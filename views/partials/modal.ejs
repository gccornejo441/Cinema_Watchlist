<div class="table-responsive">
    <table class="table table-striped table-sm" id="mytable">
      <!-- MODAL EDIT -->
      <thead>
        <tr>
          <th>
            
          </th>
        </tr>
      </thead>
      
      <tbody>
        <% result.forEach((result)=> { %>
        <tr>
          <td>
            <form action="/dashboard/edit/<%- result._id %>" method="POST">
              <div class="modal fade" id="myModal<%- result._id %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleMyModal">Edit Entry :: <%- result._id %></h5>
                    
                    <i type="button" data-dismiss="modal" style="font-size: 1.6rem" aria-label="Close"
                    class="bi bi-x-circle-fill close btn-lg"></i>
                    
                  </div>
                  <div class="modal-body">
                    <div class="row g-2">
                      <div class="col-md">
                          <select class="form-select" id="catSelect" >
                            <option  disabled>Categories</option>
                            <option value="genre">Genre</option>
                            <option value="title">Title</option>
                            <option value="director">Director</option>
                            <option value="release date">Release Date</option>
                            <option value="producer">Producer</option>
                            <option value="rating">Rating</option>
                          </select>
                        </div>
                      </div>
                      
                      <div class="col-md">
                        <input
                        id="changeInput"
                        name=`${inputVal}`
                        class="form-control" 
                        maxlength="70"
                        placeholder="e.g., Saving Private Ryan" 
                        />
                      </div>
                    </div>
                    
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">
                        Cancel
                      </button>
                      <button type="submit" class="btn btn-primary">Save changes</button>
                      <button type="button" class="btn btn-primary" onclick="myfunc()">changes</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            </form>
            <!-- MODAL EDIT END -->
          </td>
        </tr>
        <% }); %>
      </tbody>
    </table>
  </div>
    
  
  
  <script>
    function myfunc() {
      const itmSelect = document.getElementById("catSelect");
    //   Object.values(itmSelect.options)
    //   .forEach((option) => {
    //     const inputText = option.text;
    //     console.log(inputText);
            
    //     // document.getElementById("changeInput").setAttribute("name", inputText.toLowerCase());
    //   })
    // }
    // function myfunc() {
      const inputVal = itmSelect.options[itmSelect.selectedIndex].text;
      // document.getElementById("changeInput").setAttribute("name", inputVal.toLowerCase());
      document.getElementById("changeInput").name = inputVal.toLowerCase();
    // const sel = document.getElementById("catSelect");
    //   function getSelectedOption(sel) {
    //     let opt;
    //     for(let i = 0; i < sel.options.length; i++) {
    //       opt = sel.options[i];
    //       if ( opt.selected === true ) {
    //           break;
    //       }
    //     }
    //     return opt;
    //   }
    //   const opt = getSelectedOption(sel);
    //   console.log(opt)
    }
  </script>